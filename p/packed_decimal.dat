47|7|Public
25|$|NextForm is a data {{migration}} spin-off from CoSort functionality designed to convert between structured file formats such as CSV, ISAM, LDIF, and XML, plus data types such as ASCII, EBCDIC, Unicode, and <b>Packed</b> <b>Decimal.</b> Newer NextForm editions can structure data in unstructured sources, convert COBOL Vision files, and facilitate database migration.|$|E
50|$|In 2002, Mike F. Cowlishaw {{published}} a further refinement of Chen-Ho encoding known as Densely <b>Packed</b> <b>Decimal</b> encoding (DPD) in IEE Proceedings - Computers and Digital Techniques. Densely <b>Packed</b> <b>Decimal</b> has subsequently been adopted as the decimal encoding {{used in the}} IEEE 754-2008 and ISO/IEC/IEEE 60559:2011 floating-point standards.|$|E
50|$|In <b>packed</b> <b>decimal</b> {{representation}} a {{decimal digit}} {{is stored in}} one nibble.|$|E
5000|$|Binary {{data types}} such as two's {{complement}} integers, BCD, <b>packed</b> <b>decimals,</b> floats, calendars and Booleans ...|$|R
500|$|... where data {{is stored}} in the {{smallest}} possible <b>decimal</b> format (typically <b>packed</b> binary-coded <b>decimal)</b> ...|$|R
5000|$|Today, BCD data {{is still}} heavily used in IBM {{processors}} and databases, such as IBM DB2, mainframes, and Power6. In these products, the BCD is usually zoned BCD (as in EBCDIC or ASCII), <b>Packed</b> BCD (two <b>decimal</b> digits per byte), or [...] "pure" [...] BCD encoding (one decimal digit stored as BCD {{in the low}} four bits of each byte). All of these are used within hardware registers and processing units, and in software. To convert <b>packed</b> <b>decimals</b> in EBCDIC table unloads to readable numbers, {{you can use the}} OUTREC FIELDS mask of the JCL utility DFSORT.|$|R
50|$|The decimal {{arithmetic}} feature provides {{instructions that}} operate on <b>packed</b> <b>decimal</b> data. A <b>packed</b> <b>decimal</b> number has 1-31 decimal digits {{followed by a}} 4-bit sign. All of the decimal arithmetic instructions except PACK and UNPACK generate a Data exception if a digit {{is not in the}} range 0-9 or a sign is not in the range A-F.|$|E
50|$|Densely <b>packed</b> <b>decimal</b> (DPD) is an {{efficient}} method for binary encoding decimal digits.|$|E
50|$|BCD numbers can be {{represented}} in two ways: <b>packed</b> <b>decimal</b> and unpacked decimal.|$|E
25|$|Using an {{otherwise}} valid instruction {{on the wrong}} data type (see <b>packed</b> decimal/binary coded <b>decimal).</b>|$|R
50|$|Another unusual feature was the {{existence}} of several families of unique instructions. The ADD4S, SUB4S, and CMP4S instructions were able to add, subtract, and compare huge <b>packed</b> binary-coded <b>decimal</b> numbers stored in memory. Instructions ROL4 and ROR4 rotate 4-bit nibbles. Another family consisted of the TEST1, SET1, CLR1, and NOT1 instructions, which test, set, clear, and invert single bits of their operands, but are far less efficient than the later i80386 equivalents BT, BTS, BTR, and BTC; neither are their encodings compatible. There were two instructions to extract and insert bit fields of arbitrary lengths (EXT, INS). And finally, there were two additional repeat prefixes, REPC and REPNC, which amended the original REPE and REPNE instructions and allowed a string of bytes or words to be scanned (with instructions SCAS and CMPS) while a less or not less condition remained true.|$|R
5000|$|This table {{shows some}} {{representative}} decimal numbers and their encodings in BCD, Chen-Ho, and densely <b>packed</b> <b>decimal</b> (DPD): ...|$|E
50|$|The other, alternative, {{representation}} {{method is}} based ondensely <b>packed</b> <b>decimal</b> {{for most of}} thesignificand (except the most significant digit).|$|E
50|$|The ICL 2900 Series {{provided}} a 128-bit accumulator, and its instruction set included 128-bit floating-point and <b>packed</b> <b>decimal</b> arithmetic.|$|E
5000|$|SHIFT AND ROUND DECIMAL (SRP), which multiplied or divided a <b>packed</b> <b>decimal</b> {{value by}} {{a power of}} 10, {{rounding}} the result when dividing; ...|$|E
5000|$|The densely <b>packed</b> <b>decimal</b> {{encoding}} is a {{refinement of}} Chen-Ho encoding; {{it gives the}} same compression and speed advantages, but the particular arrangement of bits used confers additional advantages: ...|$|E
50|$|The IBM Power6 {{processor}} and the IBM System z9 have implemented these types using the Densely <b>Packed</b> <b>Decimal</b> binary encoding, {{the first in}} hardware and the second in microcode.|$|E
5000|$|Decimal {{arithmetic}} {{includes the}} complete S/360 decimal instruction set except [...] "shift and round packed" [...] for operations on <b>packed</b> <b>decimal</b> operands {{of up to}} 31 digits plus sign in storage.|$|E
5000|$|... (Note that, like {{character}} strings, {{the first}} byte of the <b>packed</b> <b>decimal</b> - {{with the most}} significant two digits - is usually stored in the lowest address in memory, independent of the endianness of the machine.) ...|$|E
50|$|In this version, the significand {{is stored}} {{as a series}} of decimal digits. The leading digit is between 0 and 9 (3 or 4 binary bits), {{and the rest of the}} significand uses the densely <b>packed</b> <b>decimal</b> (DPD) encoding.|$|E
5000|$|Another with a densely <b>packed</b> <b>decimal</b> significand field encodes decimal digits more directly. This makes {{conversion}} {{to and from}} binary floating-point form faster, but requires specialized hardware to manipulate efficiently. This {{is expected to be}} more convenient for hardware implementations.|$|E
5000|$|In the decimal {{representation}} method, the 16-digit significand {{is represented}} as a decimal coded positive integer, based on densely <b>packed</b> <b>decimal</b> with 5 groups of 3 digits (except the most significant digit encoded specially) are each represented in declets (10-bit sequences).|$|E
50|$|With the {{introduction}} of System/360, IBM expanded 6-bit BCD alphamerics to 8-bit EBCDIC, allowing the addition of many more characters (e.g., lowercase letters). A variable length Packed BCD numeric data type is also implemented, providing machine instructions that perform arithmetic directly on <b>packed</b> <b>decimal</b> data.|$|E
50|$|NextForm is a data {{migration}} spin-off from CoSort functionality designed to convert between structured file formats such as CSV, ISAM, LDIF, and XML, plus data types such as ASCII, EBCDIC, Unicode, and <b>Packed</b> <b>Decimal.</b> Newer NextForm editions can structure data in unstructured sources, convert COBOL Vision files, and facilitate database migration.|$|E
5000|$|For signed zoned decimal values, the {{rightmost}} (least significant) zone nibble {{holds the}} sign digit, {{which is the}} same set of values that are used for signed <b>packed</b> <b>decimal</b> numbers (see above). Thus a zoned decimal value encoded as the hex bytes F1 F2 D3 represents the signed decimal value âˆ’123: ...|$|E
50|$|Keys {{can be any}} {{combination}} of EBCDIC or ASCII character data, zoned or <b>packed</b> <b>decimal,</b> signed or unsigned fixed-point binary, or hexadecimal floating-point. Keys can be located anywhere in the record {{and do not have}} to be contiguous. Sorting can be specified on {{any combination}} of ascending and descending sequence by key.|$|E
50|$|In Packed BCD (or simply <b>packed</b> <b>decimal),</b> {{each of the}} two nibbles of each byte {{represent}} a decimal digit. Packed BCD has been in use since at least the 1960s and is implemented in all IBM mainframe hardware since then. Most implementations are big endian, i.e. with the more significant digit in the upper half of each byte, and with the leftmost byte (residing at the lowest memory address) containing the most significant digits of the <b>packed</b> <b>decimal</b> value. The lower nibble of the rightmost byte is usually used as the sign flag, although some unsigned representations lack a sign flag. As an example, a 4-byte value consists of 8 nibbles, wherein the upper 7 nibbles store the digits of a 7-digit decimal value and the lowest nibble indicates the sign of the decimal integer value.|$|E
50|$|International Computers Limited {{launches}} the ICL 2900 Series with 32-bit, 64-bit, and 128-bit two's complement integers; 64-bit and 128-bit floating point; 32-bit, 64-bit, and 128-bit <b>packed</b> <b>decimal</b> and a 128-bit accumulator register. The architecture {{has survived}} through {{a succession of}} ICL and Fujitsu machines. The latest is the Fujitsu Supernova, which emulates the original environment on 64-bit Intel processors.|$|E
50|$|The 8086, 8088, 80186, and 80188 can use an {{optional}} floating-point coprocessor, the 8087. The 8087 appears to the programmer {{as part of}} the CPU and adds eight 80-bit wide registers, st(0) to st(7), each of which can hold numeric data in one of seven formats: 32-, 64-, or 80-bit floating point, 16-, 32-, or 64-bit (binary) integer, and 80-bit <b>packed</b> <b>decimal</b> integer.|$|E
50|$|Chen-Ho {{encoding}} {{provides a}} boolean transformation for converting {{groups of three}} BCD-encoded digits to and from 10-bit values that can be efficiently encoded in hardware with only 2 or 3 gate delays. Densely <b>Packed</b> <b>Decimal</b> is a similar scheme that is used {{for most of the}} significand, except the lead digit, for one of the two alternative decimal encodings specified in the IEEE 754-2008 standard.|$|E
5000|$|<b>Packed</b> <b>decimal</b> {{numbers are}} stored as 1-16 8-bit bytes {{containing}} an odd number of decimal digits {{followed by a}} 4-bit sign. Sign values of hexadecimal A, C, E and F are positive and sign values of hexadecimal B and D are negative. Digit values of hexadecimal A-F and sign values of 0-9 are invalid, but the PACK and UNPK instructions do not test for validity.|$|E
5000|$|All ABAP {{variables}} must be explicitly {{declared in}} order to be used. Normally all declarations are placed {{at the top of the}} code module (program, subroutine, function) before the first executable statement; this placement is a convention and not an enforced syntax rule. The declaration consists of the name, type, length (where applicable), additional modifiers (e.g. the number of implied decimals for a <b>packed</b> <b>decimal</b> field) and optionally an initial value: ...|$|E
5000|$|Fixed-point decimal {{numbers are}} {{supported}} by some programming languages (such as COBOL and PL/I). These languages allow the programmer to specify an implicit decimal point {{in front of one}} of the digits. For example, a <b>packed</b> <b>decimal</b> value encoded with the bytes 12 34 56 7C represents the fixed-point value +1,234.567 when the implied decimal point is located between the 4th and 5th digits: 12 34 56 7C 12 34.56 7+ ...|$|E
50|$|If a {{decimal digit}} {{requires}} four bits, then three decimal digits require 12 bits. However, since 210 (1,024) {{is greater than}} 103 (1,000), if three decimal digits are encoded together, only 10 bits are needed. Two such encodings are Chen-Ho encoding and Densely <b>Packed</b> <b>Decimal</b> (DPD). The latter has the advantage that subsets of the encoding encode two digits in the optimal seven bits and one digit in four bits, as in regular BCD.|$|E
50|$|In 1971, Tien Chi Chen and Irving T. Ho {{devised a}} {{lossless}} prefix code (now known as Chen-Ho encoding) which packed three decimal digits into ten binary bits using a scheme which allowed compression from or expansion to BCD {{with only two}} or three gate delays in hardware. Densely <b>packed</b> <b>decimal</b> is a refinement of this, devised by Mike F. Cowlishaw in 2002, which was incorporated into the IEEE 754-2008 and ISO/IEC/IEEE 60559:2011 standards for decimal floating-point.|$|E
50|$|The {{traditional}} {{system of}} binary encoding for decimal digits, known as binary-coded decimal (BCD), uses four bits to encode each digit, resulting in significant wastage of binary data bandwidth (since four bits can store 16 states {{and are being}} used to store only 10). Densely <b>packed</b> <b>decimal</b> is a more efficient code that packs three digits into ten bits using a scheme that allows compression from, or expansion to, BCD with only two or three gate delays in hardware.|$|E
